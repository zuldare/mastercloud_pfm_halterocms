@startuml
state "Pending new athletes to register" as PendingAthletesToRegister
state "Is the registration time still open?" as IsRegistrationOpenCHC <<choice>>
state "More athletes to register pending?" as MoreAthletesToRegisterCHC <<choice>>
state "A new athlete was registered" as NewAthleteRegistered
state "Registration time is over" as RegistrationTimeOver
state "Is there any athlete registered?" as AnyAthletesRegisteredCHC <<choice>>
state "Competition order drawn" as CompetitionOrderDrawn
state "Pending new batches" as PendingNewBatch
state "A new category from a\ncertain batch started" as StartedNewBatchCategory
state "More batches pending?" as MoreCategoryBatchesCHC <<choice>>
state "Classification is open" as OpenClassification
state "Classification completed" as CompletedClassification
state "More batches from other categories pending?" as MoreBatchesCHC <<choice>>
state "All batches are completed" as CompletedBatches

[*] --> PendingAthletesToRegister
PendingAthletesToRegister --> IsRegistrationOpenCHC : A new athlete tries\nto be registered
IsRegistrationOpenCHC --> RegistrationTimeOver : Registration time\nran out
IsRegistrationOpenCHC --> NewAthleteRegistered : The registration period\nis still open
NewAthleteRegistered --> MoreAthletesToRegisterCHC
MoreAthletesToRegisterCHC --> PendingAthletesToRegister : Athletes remain to\nbe registered
MoreAthletesToRegisterCHC --> RegistrationTimeOver : All athletes are\nregistered
PendingAthletesToRegister --> RegistrationTimeOver : Registration time\nran out
RegistrationTimeOver --> AnyAthletesRegisteredCHC
AnyAthletesRegisteredCHC --> CompetitionOrderDrawn : The draw takes place
AnyAthletesRegisteredCHC --> [*] : No athlete has signed up
CompetitionOrderDrawn --> PendingNewBatch : The development of the\ncompetition begins

PendingNewBatch --> StartedNewBatchCategory
StartedNewBatchCategory --> MoreCategoryBatchesCHC : New category for a certain\nbatch is completed

MoreCategoryBatchesCHC --> PendingNewBatch : Some batches from the\nsame category have not\nbeen classified yet
MoreCategoryBatchesCHC --> OpenClassification : All batches from a the same\ncategory are completed
OpenClassification --> CompletedClassification : Score is calculated and\nwinner is determined
CompletedClassification --> MoreBatchesCHC
MoreBatchesCHC --> PendingNewBatch : Some categories have not\nbeen classified yet
MoreBatchesCHC --> CompletedBatches : All batches have been\nclassified
CompletedBatches --> [*]
@enduml
